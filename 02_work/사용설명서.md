# 개인정보 마스킹 시스템 사용설명서

## 1. 개요
- **목적**: 주민등록번호·전화번호·이메일 등 민감 정보를 자동 탐지하여 `*` 문자로 마스킹하고, 안전하게 공유할 수 있는 텍스트를 생성합니다.
- **구동 방식**: 순수 HTML/CSS/JavaScript로 작성되어 별도 설치 없이 브라우저에서 열면 바로 실행됩니다.

## 2. 구성 파일
| 파일명 | 설명 |
| --- | --- |
| `index.html` | 메인 페이지와 UI 레이아웃 |
| `styles.css` | 반응형 레이아웃, 버튼/배지 스타일, 마스킹 하이라이트 |
| `script.js` | 개인정보 패턴 정의, 탐지/마스킹 로직, 다운로드·복사·초기화 기능 |
| `personal_info_sample.txt` | 테스트용 샘플 텍스트 (선택) |
| `화면 캡처.png` | 화면 예시 (선택) |

## 3. 실행 전 준비
1. Chrome/Edge/Safari 등 ES6 지원 브라우저
2. 위 파일들이 모두 동일 폴더에 위치해야 함
3. 인터넷 연결 필요 없음 (로컬 파일 실행)

## 4. 실행 방법
1. `index.html`을 더블 클릭해 브라우저로 엽니다.
2. "🔒 개인정보 마스킹 시스템"이 표시되면 준비 완료입니다.

## 5. 화면 구성
- **파일 업로드 영역**: `.txt` 파일을 드래그 앤 드롭하거나 `파일 선택` 버튼으로 업로드
- **텍스트 입력 영역**: 텍스트를 직접 붙여넣거나 입력
- **마스킹 옵션**: 주민등록번호·전화번호·이메일 등 8개 항목 체크/해제 가능
- **실행 버튼**: `🔍 개인정보 탐지 및 마스킹` 클릭 시 처리
- **결과 패널**: 원본 텍스트, 마스킹된 텍스트, 탐지 통계 배지, 다운로드/복사/초기화 버튼
- **푸터 경고**: 개인정보를 안전하게 보관하라는 안내

## 6. 사용 절차
1. **데이터 입력**
   - `.txt` 파일 업로드 또는 텍스트 영역에 직접 입력합니다.
2. **옵션 선택**
   - 보호가 필요 없는 항목은 체크 해제합니다.
3. **마스킹 실행**
   - `🔍 개인정보 탐지 및 마스킹` 클릭
   - 입력이 없으면 "텍스트를 입력하거나 파일을 업로드해주세요." 알림 표시
4. **결과 확인**
   - 왼쪽: 원본 텍스트
   - 오른쪽: 마스킹된 텍스트 (`*` 부분은 노란색 `.masked` 클래스로 강조)
   - 상단 배지에서 총 탐지 건수와 유형별 건수를 확인합니다.
5. **결과 활용**
   - `💾 마스킹된 파일 다운로드`: `masked_YYYY-MM-DDTHH-MM-SS.txt` 이름으로 저장
   - `📋 클립보드에 복사`: `navigator.clipboard` API로 복사
   - `🔄 초기화`: 입력/파일/결과/옵션을 기본값으로 리셋하고 페이지 상단으로 스크롤

## 7. 마스킹 방식 요약
| 옵션 | 탐지 예시 | 처리 방식 |
| --- | --- | --- |
| 주민등록번호 | `123456-1234567` | 앞 6자리만 표시, 뒤 7자리는 `*******` |
| 전화번호 | `010-1234-5678` | 가운데 또는 끝 번호를 `*` 처리 |
| 이메일 | `user@example.com` | 앞 2자리만 표시, 나머지 `*` 처리 |
| 신용카드 | `1234-5678-9012-3456` | 앞 4자리와 뒤 4자리만 표시 |
| 계좌번호 | `123456-78-901234` | 앞 3자리와 뒤 4자리만 표시, 중간 `*` |
| 여권번호 | `M12345678` | 첫 글자와 마지막 2자리만 표시 |
| 운전면허 | `서울-02-123456-78` | 지역 코드만 남기고 나머지 `*` 처리 |
| 사업자등록번호 | `123-45-67890` | 앞 3자리와 뒤 5자리만 표시 |

## 8. 결과 내보내기
- **다운로드**: Blob 객체로 UTF-8 텍스트 파일 생성 후 URL.revokeObjectURL로 메모리 해제
- **복사**: HTTPS/로컬 파일 환경에서 `navigator.clipboard` 사용 (권한 실패 시 오류 알림)

## 9. 오류 및 경고 메시지
| 상황 | 메시지 |
| --- | --- |
| `.txt` 이외 파일 업로드 | "텍스트 파일(.txt)만 업로드 가능합니다." |
| 입력/파일 없음 | "텍스트를 입력하거나 파일을 업로드해주세요." |
| 클립보드 권한 실패 | 콘솔에 `복사 실패` 로그 + "클립보드 복사에 실패했습니다." |
| 마스킹 미실행 상태에서 다운로드·복사 시도 | "먼저 마스킹 처리를 실행해주세요." |

## 10. 초기화 동작
`resetForm()`이 아래 항목을 수행합니다.
- 입력 텍스트·파일 선택값·결과 패널 숨김
- 탐지 결과 객체 초기화, 모든 체크박스 재선택
- 화면 최상단으로 부드럽게 스크롤

## 11. 보안 권장사항
- 결과 파일은 암호화된 저장소/내부 서버 등 안전한 위치에 보관하세요.
- 원본 텍스트와 마스킹된 텍스트는 서로 다른 폴더에 보관하여 노출 위험을 줄입니다.
- 샘플 데이터 사용 후 즉시 삭제하고, 최신 브라우저 버전을 유지하세요.

## 12. 부가 팁
- `personal_info_sample.txt` 로 빠른 기능 검증 가능
- 브라우저 콘솔(F12)에서 `DOMContentLoaded` 로그로 초기화 여부 확인
- 필요 시 `patterns` 객체에 정규식을 추가해 탐지 범위를 확장할 수 있습니다.

필요한 내용이 추가되면 본 파일을 업데이트하여 버전별 변경 사항을 기록하세요.
